<!DOCTYPE html>
<html>
  <head>
    <meta id="dropDown" searchType="{{searchType}}">
    <style>
      div {
        width: 220px;
        padding: 1px;
        border: 2px solid gray;
        margin: 10 px;
        display: inline-block;
        white-space: pre-wrap;
        text-align: left;
        font-size: 10px;
      }  

      A{
	      text-decoration: none;
        color: black;
       }
    </style>
    <title> Book Exchange </title>
  </head>
  <body>
    {% include 'header.html' %}
    <h1> Recently Listed </h1>
    <br>
      {% if results is not none:  %}
        {% set length = results|length %} 
          {%  for i in range(length) %}
            <div>
              <a href="buyerPage" method='get'> Book title: {{results[i][0]}} 
                Course name: {{results[i][1]}} 
                Min price: {{results[i][3]}} ...</a> 
            </div>
          {% endfor %}
      {% endif %}
  
    <script src= "https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"> </script>
    <script type="text/javascript">
      function dropDown(selectVal){
        let searchVal = document.getElementById("searchType");
        searchVal.value = selectVal;
      }

      function setup(){

        let searchQuery = document.getElementById("searchQuery");
        searchQuery.focus();
        var searchType = $('#dropDown').searchType();
        if (searchType === 1) { 
          let selectVal = "isbn";
        }
        else if (searchType === 2) { 
          let selectVal = "title";
        }
        else if (searchType=== 3) { 
          let selectVal = "crsnum";
        }
        else { 
          let selectVal = "crsname";
        }
        dropDown(selectVal);

      }
      document.addEventListener('DOMContentLoaded', setup);
    </script>

    {% include 'footer.html' %}
  </body>
</html>
