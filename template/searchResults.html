<!DOCTYPE html>
<html>
  {% block content %}
  <head>
    <style>
      div{
        display: inline-block;
      }
      .info div {
        width: 220px;
        padding: 1px;
        border: 2px solid gray;
        margin: 10 px;
        white-space: pre-wrap;
        display: block;
        text-align: left;
        font-size: 10px;
      }  

      A{
	      text-decoration: none;
        color: black;
       }
       </style>
    <title> Book Exchange </title>
  </head>
  <body>
    {% include 'header.html' %}
    <h1> Search Results </h1>
    <br>
    {% if results is not none: %}
      {% set length = results|length %} 
        {%  for i in range(length) %}
        <div class="info">
          <a href="buyerPage"><img src="{{image[i]}}" width="225" height="160"></a>
          <div>
            <a href="buyerPage" method='get'> Book title: {{results[i][0]}} 
              Course name: {{results[i][1]}} 
              Min price: {{results[i][3]}} ...</a> 
          </div>
        </div>
        {% endfor %}
    {% else: %}
       <h4> No Books Found </h4>
      

    {% endif %}

    {% include 'footer.html' %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    
    <script>
      console.log("before setQuery");
      function setQuery() {
        var query1 = {{query|safe}};
        let query = $('#searchQuery');

        query.val(query1);

        var searchType = {{searchType|safe}};
        console.log(searchType);
        let dropDown = $('#searchType1');
        if (searchType == 1){
          dropDown.val("isbn");
        }
        else if (searchType == 2){
          dropDown.val("title");
        }
        else if(searchType == 3){
          dropDown.val("crsnum");
        }
        else if(searchType == 4){
          dropDown.val("crsname");
        }

      }
      function setup(){
        $('#searchQuery').focus()
        setQuery();
      }

      $('document').ready(setup);
    </script>
  </body>
  {% endblock content %}
</html>
