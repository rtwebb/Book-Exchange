<!DOCTYPE html>
<html>
  {% block content %}
  <head>
    <style>
      div {
        width: 220px;
        padding: 5px;
        border: 2px solid gray;
        margin: 10 px;
        display: inline-block;
        text-align: left;
        white-space: pre-wrap;
        font-size: 10px;
      }  

      A{
	      text-decoration: none;
        color: black;
       }
       </style>
    <title> Book Exchange </title>
  </head>
  <body>
    {% include 'header.html' %}
    <h1> Search Results </h1>
    <br>
    {% if results is not none: %}
      {% set length = results|length %} 
        {%  for i in range(length) %}
          <div>
            <a href="buyerPage" method='get'> Book title: {{results[i][0]}} 
              Course name: {{results[i][1]}} 
              Min price: {{results[i][3]}} ...</a> 
          </div>
        {% endfor %}
    {% else: %}
       <h4> No Books Found </h4>

    {% endif %}
    
    {% include 'footer.html' %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    
    <script>
      console.log("before setQuery");
      function setQuery() {
        console.log("made it to setQuery");
        var query1 = {{query|safe}};
        console.log("value of query1: " + query1);
        let query = $('#searchQuery');
        console.log("value in query before: " + query.val());
        query.val(query1);
        console.log("value in query after: " + query.val());
     
      }

      console.log("document");
      $('document').ready(setQuery);
      console.log("document after");
    </script>
  </body>
  {% endblock content %}
</html>
